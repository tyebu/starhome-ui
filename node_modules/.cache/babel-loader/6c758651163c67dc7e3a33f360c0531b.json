{"remainingRequest":"E:\\vue_workspace\\starhome\\node_modules\\babel-loader\\lib\\index.js!E:\\vue_workspace\\starhome\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\vue_workspace\\starhome\\src\\components\\TagSelect\\index.jsx","dependencies":[{"path":"E:\\vue_workspace\\starhome\\src\\components\\TagSelect\\index.jsx","mtime":1573028890000},{"path":"E:\\vue_workspace\\starhome\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1574523006489},{"path":"E:\\vue_workspace\\starhome\\node_modules\\babel-loader\\lib\\index.js","mtime":1574522890346},{"path":"E:\\vue_workspace\\starhome\\node_modules\\eslint-loader\\index.js","mtime":1574522972583}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5sYXN0LWluZGV4LW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiRTpcXHZ1ZV93b3Jrc3BhY2VcXHN0YXJob21lXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IFByb3BUeXBlcyBmcm9tICdhbnQtZGVzaWduLXZ1ZS9lcy9fdXRpbC92dWUtdHlwZXMnOwppbXBvcnQgT3B0aW9uIGZyb20gIi4vVGFnU2VsZWN0T3B0aW9uLmpzeCI7CmltcG9ydCB7IGZpbHRlckVtcHR5IH0gZnJvbSAnQC9jb21wb25lbnRzL191dGlsL3V0aWwnOwpleHBvcnQgZGVmYXVsdCB7CiAgT3B0aW9uOiBPcHRpb24sCiAgbmFtZTogJ1RhZ1NlbGVjdCcsCiAgbW9kZWw6IHsKICAgIHByb3A6ICdjaGVja2VkJywKICAgIGV2ZW50OiAnY2hhbmdlJwogIH0sCiAgcHJvcHM6IHsKICAgIHByZWZpeENsczogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdhbnQtcHJvLXRhZy1zZWxlY3QnCiAgICB9LAogICAgZGVmYXVsdFZhbHVlOiB7CiAgICAgIHR5cGU6IFByb3BUeXBlcy5hcnJheSwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IFByb3BUeXBlcy5hcnJheSwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIGV4cGFuZGFibGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBoaWRlQ2hlY2tBbGw6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBleHBhbmQ6IGZhbHNlLAogICAgICBsb2NhbENoZWNrQWxsOiBmYWxzZSwKICAgICAgaXRlbXM6IHRoaXMuZ2V0SXRlbXNLZXkoZmlsdGVyRW1wdHkodGhpcy4kc2xvdHMuZGVmYXVsdCkpLAogICAgICB2YWw6IHRoaXMudmFsdWUgfHwgdGhpcy5kZWZhdWx0VmFsdWUgfHwgW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoY2hlY2tlZCkgewogICAgICB2YXIga2V5ID0gT2JqZWN0LmtleXModGhpcy5pdGVtcykuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICByZXR1cm4ga2V5ID09PSBjaGVja2VkLnZhbHVlOwogICAgICB9KTsKICAgICAgdGhpcy5pdGVtc1trZXldID0gY2hlY2tlZC5jaGVja2VkOwogICAgICB2YXIgYm9vbCA9IE9iamVjdC52YWx1ZXModGhpcy5pdGVtcykubGFzdEluZGV4T2YoZmFsc2UpOwoKICAgICAgaWYgKGJvb2wgPT09IC0xKSB7CiAgICAgICAgdGhpcy5sb2NhbENoZWNrQWxsID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmxvY2FsQ2hlY2tBbGwgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIG9uQ2hlY2tBbGw6IGZ1bmN0aW9uIG9uQ2hlY2tBbGwoY2hlY2tlZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgT2JqZWN0LmtleXModGhpcy5pdGVtcykuZm9yRWFjaChmdW5jdGlvbiAodikgewogICAgICAgIF90aGlzLml0ZW1zW3ZdID0gY2hlY2tlZC5jaGVja2VkOwogICAgICB9KTsKICAgICAgdGhpcy5sb2NhbENoZWNrQWxsID0gY2hlY2tlZC5jaGVja2VkOwogICAgfSwKICAgIGdldEl0ZW1zS2V5OiBmdW5jdGlvbiBnZXRJdGVtc0tleShpdGVtcykgewogICAgICB2YXIgdG90YWxJdGVtID0ge307CiAgICAgIGl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICB0b3RhbEl0ZW1baXRlbS5jb21wb25lbnRPcHRpb25zLnByb3BzRGF0YSAmJiBpdGVtLmNvbXBvbmVudE9wdGlvbnMucHJvcHNEYXRhLnZhbHVlXSA9IGZhbHNlOwogICAgICB9KTsKICAgICAgcmV0dXJuIHRvdGFsSXRlbTsKICAgIH0sCiAgICAvLyBDaGVja0FsbCBCdXR0b24KICAgIHJlbmRlckNoZWNrQWxsOiBmdW5jdGlvbiByZW5kZXJDaGVja0FsbCgpIHsKICAgICAgdmFyIGggPSB0aGlzLiRjcmVhdGVFbGVtZW50OwogICAgICByZXR1cm4gIXRoaXMuaGlkZUNoZWNrQWxsICYmIGgoT3B0aW9uLCB7CiAgICAgICAgImtleSI6ICd0b3RhbCcsCiAgICAgICAgImF0dHJzIjogewogICAgICAgICAgImNoZWNrZWQiOiB0aGlzLmxvY2FsQ2hlY2tBbGwKICAgICAgICB9LAogICAgICAgICJvbiI6IHsKICAgICAgICAgICJjaGFuZ2UiOiB0aGlzLm9uQ2hlY2tBbGwKICAgICAgICB9CiAgICAgIH0sIFsiQWxsIl0pIHx8IG51bGw7CiAgICB9LAogICAgLy8gZXhwYW5kYWJsZQogICAgcmVuZGVyRXhwYW5kYWJsZTogZnVuY3Rpb24gcmVuZGVyRXhwYW5kYWJsZSgpIHt9LAogICAgLy8gcmVuZGVyIG9wdGlvbgogICAgcmVuZGVyVGFnczogZnVuY3Rpb24gcmVuZGVyVGFncyhpdGVtcykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBsaXN0ZW5lcnMgPSB7CiAgICAgICAgY2hhbmdlOiBmdW5jdGlvbiBjaGFuZ2UoY2hlY2tlZCkgewogICAgICAgICAgX3RoaXMyLm9uQ2hhbmdlKGNoZWNrZWQpOwoKICAgICAgICAgIF90aGlzMi4kZW1pdCgnY2hhbmdlJywgY2hlY2tlZCk7CiAgICAgICAgfQogICAgICB9OwogICAgICByZXR1cm4gaXRlbXMubWFwKGZ1bmN0aW9uICh2bm9kZSkgewogICAgICAgIHZhciBvcHRpb25zID0gdm5vZGUuY29tcG9uZW50T3B0aW9uczsKICAgICAgICBvcHRpb25zLmxpc3RlbmVycyA9IGxpc3RlbmVyczsKICAgICAgICByZXR1cm4gdm5vZGU7CiAgICAgIH0pOwogICAgfQogIH0sCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICB2YXIgaCA9IGFyZ3VtZW50c1swXTsKICAgIHZhciBwcmVmaXhDbHMgPSB0aGlzLiRwcm9wcy5wcmVmaXhDbHM7CgogICAgdmFyIGNsYXNzU3RyaW5nID0gX2RlZmluZVByb3BlcnR5KHt9LCAiIi5jb25jYXQocHJlZml4Q2xzKSwgdHJ1ZSk7CgogICAgdmFyIHRhZ0l0ZW1zID0gZmlsdGVyRW1wdHkodGhpcy4kc2xvdHMuZGVmYXVsdCk7CiAgICByZXR1cm4gaCgiZGl2IiwgewogICAgICAiY2xhc3MiOiBjbGFzc1N0cmluZwogICAgfSwgW3RoaXMucmVuZGVyQ2hlY2tBbGwoKSwgdGhpcy5yZW5kZXJUYWdzKHRhZ0l0ZW1zKV0pOwogIH0KfTs="},{"version":3,"sources":["E:/vue_workspace/starhome/src/components/TagSelect/index.jsx"],"names":["PropTypes","Option","filterEmpty","name","model","prop","event","props","prefixCls","type","String","default","defaultValue","array","value","expandable","Boolean","hideCheckAll","data","expand","localCheckAll","items","getItemsKey","$slots","val","methods","onChange","checked","key","Object","keys","filter","bool","values","lastIndexOf","onCheckAll","forEach","v","totalItem","item","componentOptions","propsData","renderCheckAll","renderExpandable","renderTags","listeners","change","$emit","map","vnode","options","render","$props","classString","tagItems"],"mappings":"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","sourcesContent":["import PropTypes from 'ant-design-vue/es/_util/vue-types'\nimport Option from './TagSelectOption.jsx'\nimport { filterEmpty } from '@/components/_util/util'\n\nexport default {\n  Option,\n  name: 'TagSelect',\n  model: {\n    prop: 'checked',\n    event: 'change'\n  },\n  props: {\n    prefixCls: {\n      type: String,\n      default: 'ant-pro-tag-select'\n    },\n    defaultValue: {\n      type: PropTypes.array,\n      default: null\n    },\n    value: {\n      type: PropTypes.array,\n      default: null\n    },\n    expandable: {\n      type: Boolean,\n      default: false\n    },\n    hideCheckAll: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      expand: false,\n      localCheckAll: false,\n      items: this.getItemsKey(filterEmpty(this.$slots.default)),\n      val: this.value || this.defaultValue || []\n    }\n  },\n  methods: {\n    onChange (checked) {\n      const key = Object.keys(this.items).filter(key => key === checked.value)\n      this.items[key] = checked.checked\n      const bool = Object.values(this.items).lastIndexOf(false)\n      if (bool === -1) {\n        this.localCheckAll = true\n      } else {\n        this.localCheckAll = false\n      }\n    },\n    onCheckAll (checked) {\n      Object.keys(this.items).forEach(v => {\n        this.items[v] = checked.checked\n      })\n      this.localCheckAll = checked.checked\n    },\n    getItemsKey (items) {\n      const totalItem = {}\n      items.forEach(item => {\n        totalItem[item.componentOptions.propsData && item.componentOptions.propsData.value] = false\n      })\n      return totalItem\n    },\n    // CheckAll Button\n    renderCheckAll () {\n      return !this.hideCheckAll && (<Option key={'total'} checked={this.localCheckAll} onChange={this.onCheckAll}>All</Option>) || null\n    },\n    // expandable\n    renderExpandable () {\n\n    },\n    // render option\n    renderTags (items) {\n      const listeners = {\n        change: (checked) => {\n          this.onChange(checked)\n          this.$emit('change', checked)\n        }\n      }\n\n      return items.map(vnode => {\n        const options = vnode.componentOptions\n        options.listeners = listeners\n        return vnode\n      })\n    }\n  },\n  render () {\n    const { $props: { prefixCls } } = this\n    const classString = {\n      [`${prefixCls}`]: true\n    }\n    const tagItems = filterEmpty(this.$slots.default)\n    return (\n      <div class={classString}>\n        {this.renderCheckAll()}\n        {this.renderTags(tagItems)}\n      </div>\n    )\n  }\n}\n"]}]}